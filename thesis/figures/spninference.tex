\input{common.tex}
\begin{document}
\begin{tikzpicture}
    [scale=.6,auto=left,every node/.style={draw, thick, circle, inner sep = 0pt, minimum width = 0.72cm}]
  \node (n1) at (5,10) {$+$};
  \node (n2) at (2,7) {$\times$};
  \node (n3) at (5,7) {$\times$};
  \node (n4) at (8,7) {$\times$};
  \node (n5) at (0,4) {$X_1$};
  \node (n6) at (3.25,4) {$X_1$};
  \node (n7) at (6.75,4) {$X_2$};
  \node (n8) at (10,4) {$X_2$};

  \node[draw=none, color=gray] (map) at (1.6, 4) {\scriptsize $0.00991$};
  \node[draw=none, color=gray] (map) at (4.85, 4) {\scriptsize $0.14105$};
  \node[draw=none, color=gray] (map) at (8.3, 4) {\scriptsize $0.01089$};
  \node[draw=none, color=gray] (map) at (11.6, 4) {\scriptsize $0.15079$};

  \node[draw=none, color=gray] (map) at (3.45, 7) {\scriptsize $0.00011$};
  \node[draw=none, color=gray] (map) at (6.5, 7) {\scriptsize $0.00149$};
  \node[draw=none, color=gray] (map) at (9.5, 7) {\scriptsize $0.02127$};

  \node[draw=none, color=gray] (map) at (6.5, 10) {\scriptsize $0.00814$};

  \node[minimum width = 0.85cm] (n5) at (0,4) {};
  \node[minimum width = 0.85cm] (n6) at (3.25,4) {};
  \node[minimum width = 0.85cm] (n7) at (6.75,4) {};
  \node[minimum width = 0.85cm] (n8) at (10,4) {};

  \node[draw=none] (n9) at (0,2.75) {\scriptsize $\mathcal{N}(2, 18)$};
  \node[draw=none] (n10) at (3.25,2.75) {\scriptsize $\mathcal{N}(11, 8)$};
  \node[draw=none] (n11) at (6.75,2.75) {\scriptsize $\mathcal{N}(3, 10)$};
  \node[draw=none] (n12) at (10,2.75) {\scriptsize $\mathcal{N}(-4, 7)$};

  \foreach \from/\to/\weight/\pos in {n1/n2/$\frac{4}{20}$/above left, n1/n3/$\frac{9}{20}$/above left, n1/n4/$\frac{7}{20}$/above right}
    \draw (\from) edge[->, thick] node[\pos, draw=none, circle=none, minimum width=0.5cm, minimum height=0.2cm, inner sep=2pt]{\small \weight} (\to);

  \foreach \from/\to in {n2/n5, n2/n7, n3/n5, n3/n8, n4/n6, n4/n8}
    \draw (\from) edge[->, thick] (\to);
\end{tikzpicture}
\end{document}
